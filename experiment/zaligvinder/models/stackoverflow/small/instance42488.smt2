;test regex (\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{4,20}$
(declare-const X String)
(assert (str.in_re X (re.++ (re.++ (re.union (str.to_re "+") (str.to_re "00")) (re.++ (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (str.to_re "297") (str.to_re "93")) (str.to_re "244")) (str.to_re "1264")) (str.to_re "358")) (str.to_re "355")) (str.to_re "376")) (str.to_re "971")) (str.to_re "54")) (str.to_re "374")) (str.to_re "1684")) (str.to_re "1268")) (str.to_re "61")) (str.to_re "43")) (str.to_re "994")) (str.to_re "257")) (str.to_re "32")) (str.to_re "229")) (str.to_re "226")) (str.to_re "880")) (str.to_re "359")) (str.to_re "973")) (str.to_re "1242")) (str.to_re "387")) (str.to_re "590")) (str.to_re "375")) (str.to_re "501")) (str.to_re "1441")) (str.to_re "591")) (str.to_re "55")) (str.to_re "1246")) (str.to_re "673")) (str.to_re "975")) (str.to_re "267")) (str.to_re "236")) (str.to_re "1")) (str.to_re "61")) (str.to_re "41")) (str.to_re "56")) (str.to_re "86")) (str.to_re "225")) (str.to_re "237")) (str.to_re "243")) (str.to_re "242")) (str.to_re "682")) (str.to_re "57")) (str.to_re "269")) (str.to_re "238")) (str.to_re "506")) (str.to_re "53")) (str.to_re "5999")) (str.to_re "61")) (str.to_re "1345")) (str.to_re "357")) (str.to_re "420")) (str.to_re "49")) (str.to_re "253")) (str.to_re "1767")) (str.to_re "45")) (str.to_re "1809")) (str.to_re "1829")) (str.to_re "1849")) (str.to_re "213")) (str.to_re "593")) (str.to_re "20")) (str.to_re "291")) (str.to_re "212")) (str.to_re "34")) (str.to_re "372")) (str.to_re "251")) (str.to_re "358")) (str.to_re "679")) (str.to_re "500")) (str.to_re "33")) (str.to_re "298")) (str.to_re "691")) (str.to_re "241")) (str.to_re "44")) (str.to_re "995")) (str.to_re "44")) (str.to_re "233")) (str.to_re "350")) (str.to_re "224")) (str.to_re "590")) (str.to_re "220")) (str.to_re "245")) (str.to_re "240")) (str.to_re "30")) (str.to_re "1473")) (str.to_re "299")) (str.to_re "502")) (str.to_re "594")) (str.to_re "1671")) (str.to_re "592")) (str.to_re "852")) (str.to_re "504")) (str.to_re "385")) (str.to_re "509")) (str.to_re "36")) (str.to_re "62")) (str.to_re "44")) (str.to_re "91")) (str.to_re "246")) (str.to_re "353")) (str.to_re "98")) (str.to_re "964")) (str.to_re "354")) (str.to_re "972")) (str.to_re "39")) (str.to_re "1876")) (str.to_re "44")) (str.to_re "962")) (str.to_re "81")) (str.to_re "76")) (str.to_re "77")) (str.to_re "254")) (str.to_re "996")) (str.to_re "855")) (str.to_re "686")) (str.to_re "1869")) (str.to_re "82")) (str.to_re "383")) (str.to_re "965")) (str.to_re "856")) (str.to_re "961")) (str.to_re "231")) (str.to_re "218")) (str.to_re "1758")) (str.to_re "423")) (str.to_re "94")) (str.to_re "266")) (str.to_re "370")) (str.to_re "352")) (str.to_re "371")) (str.to_re "853")) (str.to_re "590")) (str.to_re "212")) (str.to_re "377")) (str.to_re "373")) (str.to_re "261")) (str.to_re "960")) (str.to_re "52")) (str.to_re "692")) (str.to_re "389")) (str.to_re "223")) (str.to_re "356")) (str.to_re "95")) (str.to_re "382")) (str.to_re "976")) (str.to_re "1670")) (str.to_re "258")) (str.to_re "222")) (str.to_re "1664")) (str.to_re "596")) (str.to_re "230")) (str.to_re "265")) (str.to_re "60")) (str.to_re "262")) (str.to_re "264")) (str.to_re "687")) (str.to_re "227")) (str.to_re "672")) (str.to_re "234")) (str.to_re "505")) (str.to_re "683")) (str.to_re "31")) (str.to_re "47")) (str.to_re "977")) (str.to_re "674")) (str.to_re "64")) (str.to_re "968")) (str.to_re "92")) (str.to_re "507")) (str.to_re "64")) (str.to_re "51")) (str.to_re "63")) (str.to_re "680")) (str.to_re "675")) (str.to_re "48")) (str.to_re "1787")) (str.to_re "1939")) (str.to_re "850")) (str.to_re "351")) (str.to_re "595")) (str.to_re "970")) (str.to_re "689")) (str.to_re "974")) (str.to_re "262")) (str.to_re "40")) (str.to_re "7")) (str.to_re "250")) (str.to_re "966")) (str.to_re "249")) (str.to_re "221")) (str.to_re "65")) (str.to_re "500")) (str.to_re "4779")) (str.to_re "677")) (str.to_re "232")) (str.to_re "503")) (str.to_re "378")) (str.to_re "252")) (str.to_re "508")) (str.to_re "381")) (str.to_re "211")) (str.to_re "239")) (str.to_re "597")) (str.to_re "421")) (str.to_re "386")) (str.to_re "46")) (str.to_re "268")) (str.to_re "1721")) (str.to_re "248")) (str.to_re "963")) (str.to_re "1649")) (str.to_re "235")) (str.to_re "228")) (str.to_re "66")) (str.to_re "992")) (str.to_re "690")) (str.to_re "993")) (str.to_re "670")) (str.to_re "676")) (str.to_re "1868")) (str.to_re "216")) (str.to_re "90")) (str.to_re "688")) (str.to_re "886")) (str.to_re "255")) (str.to_re "256")) (str.to_re "380")) (str.to_re "598")) (str.to_re "1")) (str.to_re "998")) (str.to_re "3906698")) (str.to_re "379")) (str.to_re "1784")) (str.to_re "58")) (str.to_re "1284")) (str.to_re "1340")) (str.to_re "84")) (str.to_re "678")) (str.to_re "681")) (str.to_re "685")) (str.to_re "967")) (str.to_re "27")) (str.to_re "260")) (str.to_re "263")) (re.++ (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.union (re.++ (str.to_re "9") (re.++ (str.to_re "976") (re.range "0" "9"))) (re.++ (str.to_re "8") (re.++ (str.to_re "987530") (re.range "0" "9")))) (re.++ (str.to_re "6") (re.++ (str.to_re "987") (re.range "0" "9")))) (re.++ (str.to_re "5") (re.++ (str.to_re "90") (re.range "0" "9")))) (re.++ (str.to_re "42") (re.range "0" "9"))) (re.++ (str.to_re "3") (re.++ (str.to_re "875") (re.range "0" "9")))) (re.++ (str.to_re "2") (re.++ (str.to_re "98654321") (re.range "0" "9")))) (re.++ (str.to_re "9") (str.to_re "8543210"))) (re.++ (str.to_re "8") (str.to_re "6421"))) (re.++ (str.to_re "6") (str.to_re "6543210"))) (re.++ (str.to_re "5") (str.to_re "87654321"))) (re.++ (str.to_re "4") (str.to_re "987654310"))) (re.++ (str.to_re "3") (str.to_re "9643210"))) (re.++ (str.to_re "2") (str.to_re "70"))) (str.to_re "7")) (str.to_re "1")) ((_ re.loop 4 20) (re.range "0" "9"))))) (str.to_re ""))))
; sanitize danger characters:  < > ' " \ / &
(assert (not (str.in_re X (re.* (re.union (str.to_re "\u{3c}") (str.to_re "\u{3e}") (str.to_re "\u{27}") (str.to_re "\u{22}") (str.to_re "\u{5c}") (str.to_re "\u{2f}") (str.to_re "\u{26}"))))))
(assert (< 20 (str.len X)))
(check-sat)
(get-model)